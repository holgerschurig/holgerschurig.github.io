<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=generator content="Hugo 0.108.0"><title>AwesomeWM: Alternative bindings setup &#183; Holger Schurig's Computer Calisthenics & Orthodontia</title><link rel=stylesheet href=../../css/pure-min.css><!--[if lte IE 8]><link rel=stylesheet href=../../css/grids-responsive-old-ie-min.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=../../css/grids-responsive-min.css><!--<![endif]--><!--[if lte IE 8]><link rel=stylesheet href=../../css/side-menu-old-ie.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=../../css/side-menu.css><!--<![endif]--><link rel=stylesheet href=../../css/blackburn.css><link rel=stylesheet href=../../css/all.min.css><link rel=alternate type=application/rss+xml title="Holger Schurig's Computer Calisthenics & Orthodontia" href=../../index.xml><link rel="shortcut icon" href=../../img/favicon.ico type=image/x-icon></head><body><div id=layout><a href=#menu id=menuLink class=menu-link><span></span></a><div id=menu><div class=pure-menu><ul class=pure-menu-list><li class=pure-menu-item><a class=pure-menu-link href=../../><i class='fa fa-home fa-fw'></i>Home</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../en/><i class='fa fa-list fa-fw'></i>Articles</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../de/><i class='fa fa-list fa-fw'></i>Beitr√§ge</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../topics/><i class='fa fa-folder fa-fw'></i>Topics</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../tags/><i class='fa fa-tags fa-fw'></i>Tags</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../impressum/><i class='fa fa-phone fa-fw'></i>Impressum</a></li></ul></div><div><div class=small-print><small></small></div><div class=small-print><small>Built with&nbsp;<a href=https://gohugo.io/ target=_blank>Hugo</a></small>
<small>Theme&nbsp;<a href=https://github.com/yoshiharuyamashita/blackburn target=_blank>Blackburn</a></small></div></div></div><div id=main><div class=header><h1>AwesomeWM: Alternative bindings setup</h1><h2></h2></div><div class=content><p>The default <code>rc.lua</code> from the Awesome window manager uses a lot of
<code>globalkeys = awful.util.table.join(...)</code> code.</p><p>I disliked this because &mldr;</p><ul><li>in Lua, the last field of a table cannot have a comma. So often when
I moved an entry around, I ended up with a pointless syntax error
because of a missing or trailing comma</li><li>adding elements by joining seems somewhat complex</li><li>adding logic, e.g. only adding a keybinding under specific
circumstances is suddenly more difficult</li></ul><p>So let&rsquo;s change this &mldr;</p><p>Note: the following works with AwesomeWM v4.0. I used v4.0-105-gbfb35349.</p><h2 id=define-binding-functions>Define binding functions</h2><p>I define a function where I can add one binding at a time:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>local</span> tinsert <span style=color:#f92672>=</span> table.insert
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>globalkeys <span style=color:#f92672>=</span> {}    
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>globalkey</span>(mod, key, func, desc)
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>local</span> key <span style=color:#f92672>=</span> awful.key(mod, key, func, desc)
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>for</span> k,v <span style=color:#66d9ef>in</span> pairs(key) <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>      tinsert(globalkeys, v)
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>clientkeys <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>clientkey</span>(mod, key, func, desc)
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>local</span> key <span style=color:#f92672>=</span> awful.key(mod, key, func, desc)
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>for</span> k,v <span style=color:#66d9ef>in</span> pairs(key) <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>      tinsert(clientkeys, v)
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><h2 id=example-usage>Example usage</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#75715e>-- TAGS</span>
</span></span><span style=display:flex><span>globalkey({ modkey }, <span style=color:#e6db74>&#34;Escape&#34;</span>,
</span></span><span style=display:flex><span>   awful.tag.history.restore,
</span></span><span style=display:flex><span>   {description <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Previous tag&#34;</span>, group <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Tags&#34;</span>})
</span></span><span style=display:flex><span>globalkey({ modkey }, <span style=color:#e6db74>&#34;Right&#34;</span>,
</span></span><span style=display:flex><span>   awful.tag.viewnext,
</span></span><span style=display:flex><span>   {description <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Tag forward&#34;</span>, group <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Tags&#34;</span>})
</span></span><span style=display:flex><span>globalkey({ modkey }, <span style=color:#e6db74>&#34;Left&#34;</span>,
</span></span><span style=display:flex><span>   awful.tag.viewprev,
</span></span><span style=display:flex><span>   {description <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Tag backword&#34;</span>, group <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Tags&#34;</span>})
</span></span></code></pre></div><p>I think this looks generally more pleasing. See
my
<a href="https://bitbucket.org/holgerschurig/dotfiles/src/HEAD/awesome-4/.config/awesome/bindings.lua?at=master&fileviewer=file-view-default">bindings.lua</a> file
a longer example.</p><div class=post-meta><div><i class="fa fa-calendar fa-fw"></i>
<time>2017-01-22</time></div><div><i class="fa fa-folder fa-fw"></i>
<a class=post-taxonomy-topic href=../../topics/linux>Linux</a>
<a class=rss type=application/rss+xml href=../../topics/linux/index.xml><span class="fa fa-rss">RSS</span></a></div><div><i class="fa fa-tags fa-fw"></i>
<a class=post-taxonomy-tag href=../../tags/awesome>awesome</a>
<a class=rss type=application/rss+xml href=../../tags/awesome/index.xml><span class="fa fa-rss">RSS</span></a>
&nbsp;/
<a class=post-taxonomy-tag href=../../tags/dotfiles>dotfiles</a>
<a class=rss type=application/rss+xml href=../../tags/dotfiles/index.xml><span class="fa fa-rss">RSS</span></a></div></div></div></div></div><script src=../../js/ui.js></script>
<script src=../../js/menus.js></script></body></html>