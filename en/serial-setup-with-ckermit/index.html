<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=generator content="Hugo 0.108.0"><title>Serial setup with C-Kermit &#183; Holger Schurig's Computer Calisthenics & Orthodontia</title><link rel=stylesheet href=../../css/pure-min.css><!--[if lte IE 8]><link rel=stylesheet href=../../css/grids-responsive-old-ie-min.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=../../css/grids-responsive-min.css><!--<![endif]--><!--[if lte IE 8]><link rel=stylesheet href=../../css/side-menu-old-ie.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=../../css/side-menu.css><!--<![endif]--><link rel=stylesheet href=../../css/blackburn.css><link rel=stylesheet href=../../css/all.min.css><link rel="shortcut icon" href=../../img/favicon.ico type=image/x-icon></head><body><div id=layout><a href=#menu id=menuLink class=menu-link><span></span></a><div id=menu><div class=pure-menu><ul class=pure-menu-list><li class=pure-menu-item><a class=pure-menu-link href=../../><i class='fa fa-home fa-fw'></i>Home</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../en/><i class='fa fa-list fa-fw'></i>Articles</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../de/><i class='fa fa-list fa-fw'></i>Beitr√§ge</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../topics/><i class='fa fa-folder fa-fw'></i>Topics</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../tags/><i class='fa fa-tags fa-fw'></i>Tags</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../impressum/><i class='fa fa-phone fa-fw'></i>Impressum</a></li></ul></div><div><div class=small-print><small></small></div><div class=small-print><small>Built with&nbsp;<a href=https://gohugo.io/ target=_blank>Hugo</a></small>
<small>Theme&nbsp;<a href=https://github.com/yoshiharuyamashita/blackburn target=_blank>Blackburn</a></small></div></div></div><div id=main><div class=header><h1>Serial setup with C-Kermit</h1><h2></h2></div><div class=content><p>When you work with embedded devices (e.g. SabreLite, <a href=../../tags/arduino/>Arduino</a>,
<a href=../../tags/raspi/>Raspberry Pi</a>) you often need to work over a serial port, e.g. to
customize the Barebox or U-Boot boot loader.</p><p>On Linux, people often use &ldquo;<em>minicom</em>&rdquo; for this. Other options are
&ldquo;<em>Putty</em>&rdquo; (yes, it&rsquo;s not a Windows-only program, try &ldquo;<code>apt-get install putty</code>&rdquo;) or even the ancient <a href=http://www.kermitproject.org>C-Kermit</a>.
Surprisingly I found that Kermit suits my work-flow the best, when
properly configured.</p><p>The reason: Kermit doesn&rsquo;t come into my way. No menu, no
interpretation of escape codes (so urxvt does that), no nothing.</p><h2 id=installation>Installation</h2><p>On Debian, installation is as easy as:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>apt-get install ckermit
</span></span></code></pre></div><h2 id=configuration>Configuration</h2><p>Place this into <code>~/.kermrm</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>set line /dev/ttyS0
</span></span><span style=display:flex><span>set baud 115200
</span></span><span style=display:flex><span>set handshake none
</span></span><span style=display:flex><span>set flow-control none
</span></span><span style=display:flex><span>set carrier-watch off
</span></span><span style=display:flex><span>set escape-character ^X
</span></span><span style=display:flex><span>log session ~/.kermlog
</span></span><span style=display:flex><span>connect
</span></span></code></pre></div><ul><li>set serial port (if you don&rsquo;t have a real RS232, use <code>/dev/ttyUSB0</code>
instead)</li><li>set baud rate. We have the year 2016, so there&rsquo;s no need to run
anything slower than 115200 baud nowadays. Even Windows 7 (or newer)
can nowadays use this baud rate.</li><li>turn all handshaking off. Embedded devices often only use 3 wires
(<code>RXD</code>, <code>TXD</code> and <code>GND</code>) for their communications anyway.</li><li>for the same reason, turn of carrier detection</li><li>allow &ldquo;<code>Ctrl-X</code>&rdquo; as an escape character</li><li>write a log of the whole transaction to <code>~/.kermlog</code></li><li>and connect</li></ul><h2 id=keyboard-control>Keyboard control</h2><p>When I want to disconnect, I type &ldquo;<code>Ctrl-X q</code>&rdquo; (q like quit).</p><p>If i ever want to get to Kermit command prompt (which I almost never
do), then &ldquo;<code>Ctrl-X c</code>&rdquo; does the trick.</p><h2 id=example>Example</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>schurig@desktop:~$ kermit
</span></span><span style=display:flex><span>Connecting to /dev/ttyS0, speed 115200
</span></span><span style=display:flex><span> Escape character: Ctrl-X (ASCII 24, CAN): enabled
</span></span><span style=display:flex><span>Type the escape character followed by C to get back,
</span></span><span style=display:flex><span>or followed by ? to see other options.
</span></span><span style=display:flex><span>Session Log: /home/schurig/.kermlog, text (0) 
</span></span><span style=display:flex><span>----------------------------------------------------
</span></span><span style=display:flex><span>Barebox: version 2015.12.0, git 2016-03.1-84-g18146e8
</span></span><span style=display:flex><span>info: FPGA v35
</span></span><span style=display:flex><span>info: CPU board v5
</span></span><span style=display:flex><span>info: Front board v8
</span></span><span style=display:flex><span>info: MIL connector board v1
</span></span><span style=display:flex><span>info: Expansion board v0
</span></span><span style=display:flex><span>info: strap-id forces DVB2A/BUCK2 for LCD
</span></span><span style=display:flex><span>info: PIC .10:  boot v0.0, application v0.6
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Interrupt boot with any command:  3
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Helpful commands:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	help  and  help &lt;COMMAND&gt;
</span></span><span style=display:flex><span>	boot sdcard
</span></span><span style=display:flex><span>	boot emmc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>barebox:/
</span></span></code></pre></div></div></div></div><script src=../../js/ui.js></script>
<script src=../../js/menus.js></script>
<script src=../../js/math-code.js></script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>