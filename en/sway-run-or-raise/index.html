<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=generator content="Hugo 0.121.1"><title>Sway: Application startup via run-or-raise &#183; Holger Schurig's Computer Calisthenics & Orthodontia</title>
<link rel=stylesheet href=../../css/pure-min.css><!--[if lte IE 8]><link rel=stylesheet href=../../css/grids-responsive-old-ie-min.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=../../css/grids-responsive-min.css><!--<![endif]--><!--[if lte IE 8]><link rel=stylesheet href=../../css/side-menu-old-ie.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=../../css/side-menu.css><!--<![endif]--><link rel=stylesheet href=../../css/blackburn.css><link rel=stylesheet href=../../css/all.min.css><link rel=alternate type=application/rss+xml title="Holger Schurig's Computer Calisthenics & Orthodontia" href=../../index.xml><link rel="shortcut icon" href=../../img/favicon.ico type=image/x-icon></head><body><div id=layout><a href=#menu id=menuLink class=menu-link><span></span></a><div id=menu><div class=pure-menu><ul class=pure-menu-list><li class=pure-menu-item><a class=pure-menu-link href=../../><i class='fa fa-home fa-fw'></i>Home</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../en/><i class='fa fa-list fa-fw'></i>Articles</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../de/><i class='fa fa-list fa-fw'></i>Beitr√§ge</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../categories/><i class='fa fa-folder fa-fw'></i>Categories</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../tags/><i class='fa fa-tags fa-fw'></i>Tags</a></li><li class=pure-menu-item><a class=pure-menu-link href=../../impressum/><i class='fa fa-phone fa-fw'></i>Impressum</a></li></ul></div></div><div id=main><div class=header><h1>Sway: Application startup via run-or-raise</h1><h2></h2></div><div class=content><p>In my <a href=https://github.com/holgerschurig/dotfiles/blob/master/sway/.config/sway/config>Sway configuration</a> I have two lines that start an application in a specific way:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>bindsym Mod4+e exec ~/.config/sway/run-or-raise Emacs emacs
</span></span><span style=display:flex><span>bindsym Mod4+w exec ~/.config/sway/run-or-raise Firefox firefox
</span></span></code></pre></div><p>What does this do?</p><p>First, the &ldquo;exec&rdquo; clause calls a python script, <a href=https://github.com/holgerschurig/dotfiles/blob/master/sway/.config/sway/run-or-raise>run-or-raise</a>.</p><p>This python scripts wants two arguments. The first one is a container name. It
uses <code>swaymsg -t get_tree</code> to get all outputs, work spaces and containers. And
then it looks for any container (that is: application, Wayland client) that
matches the name. This match is actually done case insensitive.</p><p>Now we can have 3 outcomes:</p><ul><li>It finds <em>no</em> matching container. In that case, it just starts one with the
2nd command line argument for the binary / script. And since some applications
(e.g. Firefox) can take a bit time to start, a short startup notification will
be displayed.</li></ul><ul><li>It finds <em>exactly one</em> matching container. This container will then get the
focus using <code>swaymsg [con_id=...] focus</code>.</li><li>It finds <em>several</em> matching containers. Then again the logic is like this:<ul><li>none of them has the focus: select the first one to get the focus</li><li>one of them already has focus: focus the next one, possibly wrapping around
to the start of the list.</li></ul></li></ul><p>And now, with that I can use <code>Logo+e</code> to switch to my Emacs windows, wherever I
am. Normally, Emacs is already started, thanks to my <a href=../sway-default-layout/>default Sway layout
setup</a>.</p><p>And <code>Logo+w</code> starts a web browser (here Firefox). If already running, it will be
focused. If several separate windows are open, one after the other will be
selected.</p><p>I could use tabs as well, but some web applications slow down if they are in an
unselected tab. So I tear out these tabs and put them in separate windows. And I
can quickly select them that way.</p><p>This is a (tiny) part of my <a href=https://github.com/holgerschurig/dotfiles/blob/master/sway/.config/sway/>Sway configuration</a>.</p><div class=post-meta><div><i class="fa fa-calendar fa-fw"></i>
<time>2022-12-13</time></div><div><i class="fa fa-folder fa-fw"></i>
<a class=post-taxonomy-topic href=../../categories/linux>Linux</a>
<a class=rss type=application/rss+xml href=../../categories/linux/index.xml><span class="fa fa-rss">RSS</span></a></div><div><i class="fa fa-tags fa-fw"></i>
<a class=post-taxonomy-tag href=../../tags/sway>sway</a>
<a class=rss type=application/rss+xml href=../../tags/sway/index.xml><span class="fa fa-rss">RSS</span></a>
&nbsp;/
<a class=post-taxonomy-tag href=../../tags/wayland>wayland</a>
<a class=rss type=application/rss+xml href=../../tags/wayland/index.xml><span class="fa fa-rss">RSS</span></a>
&nbsp;/
<a class=post-taxonomy-tag href=../../tags/dotfiles>dotfiles</a>
<a class=rss type=application/rss+xml href=../../tags/dotfiles/index.xml><span class="fa fa-rss">RSS</span></a></div></div></div></div></div><script src=../../js/ui.js></script><script src=../../js/menus.js></script></body></html>